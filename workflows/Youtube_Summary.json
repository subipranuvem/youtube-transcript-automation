{
  "name": "Youtube Summary",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "initialMessages": "Ol√°!\nEu consigo resumir v√≠deos do Youtube.\n\nCole um link de um v√≠deo que irei resumi-lo pra voc√™!",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -640,
        -20
      ],
      "id": "5df3e250-f84c-4b6f-94ab-9065e1855957",
      "name": "When chat message received",
      "webhookId": "6e8e31fe-9be3-49db-9489-e5f9a8ea9237"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a highly skilled AI assistant specialized in creating detailed and accurate summaries of YouTube videos. Your primary task is to generate comprehensive summaries based on video transcriptions, enriched with additional context and organized for clarity. You can use bullet points, headings, or other formatting to enhance readability.\n\n**Key Responsibilities:**\n1. **Summarize Videos:** Provide a complete summary of a YouTube video using its transcription. Include key points, main ideas, and any relevant context.\n2. **Interact with Users:** If the user does not provide a YouTube video URL, politely ask for it and guide them on how to share the link.\n3. **Language Handling:** Detect the language of the user's prompt. If no specific language is requested for the summary, respond in the same language as the user's prompt. If the language cannot be detected, default to English and Brazilian portuguese ('en', 'br').\n\n**Tools Available:**\n- **YouTube Video Transcription Retriever:** Fetch the transcription of a YouTube video using its Video ID or a Video URL and a list of preferred languages (use the detected or default language code).\n\n**Example Output:**\n- **If no URL is provided:**  \n  *\"Sure! To get started, please provide the URL of the YouTube video you'd like me to summarize. Once I have the link, I'll create a detailed summary for you.\"*\n\n- **Summary Example:**  \n  *\"Here‚Äôs a summary of the video titled 'The Future of AI':*  \n  - *Main Topic: The video explores advancements in AI technology and its potential impact on society.*  \n  - *Key Points:  \n    - AI is transforming industries like healthcare, education, and transportation.  \n    - Ethical concerns, such as bias and privacy, were discussed.  \n    - Experts predict significant growth in AI capabilities over the next decade.*  \n  - *Additional Context: The video features interviews with leading AI researchers and industry professionals.\"*"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -160,
        -20
      ],
      "id": "daeec4b9-52cb-4a2d-b92b-326e81ff501a",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -420,
        280
      ],
      "id": "13ae6f9b-ffe4-4189-a4ab-3ab9727e27c8",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "ppyUwDVCvAPCeACS",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "GET a YouTube video transcript information given the Video ID or Videos URL and a list of preferred languages",
        "url": "=http://youtube_transcript_api:8001/youtube/transcript",
        "sendQuery": true,
        "parametersQuery": {
          "values": [
            {
              "name": "preferred_languages"
            },
            {
              "name": "video_id",
              "valueProvider": "modelOptional"
            },
            {
              "name": "video_url",
              "valueProvider": "modelOptional"
            }
          ]
        },
        "placeholderDefinitions": {
          "values": [
            {
              "name": "preferred_languages",
              "description": "A list of strings that you can inform the preferred language code, eg: en, br...",
              "type": "string"
            },
            {
              "name": "video_id",
              "description": "The YouTube Video ID to get the transcription",
              "type": "string"
            },
            {
              "name": "video_url",
              "description": "The YouTube Video URL to get the transcription",
              "type": "string"
            }
          ]
        },
        "optimizeResponse": true,
        "fieldsToInclude": "selected",
        "fields": "transcription,language,language_code,is_generated"
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        340,
        260
      ],
      "id": "f588dd5d-b970-4281-8ef2-62910ce71fc4",
      "name": "YouTube video transcription retriever"
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -40,
        260
      ],
      "id": "18665092-3e01-48a0-b466-8a2f0c92823b",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "content": "## Entrada  \n\nEste **n√≥ de entrada** inicia a intera√ß√£o com o agente. Neste caso, trata-se de um **chat hospedado pelo pr√≥prio N8N**.  \n\nüîó **Acesse o chat** clicando no link abaixo:  \n[Iniciar conversa](http://localhost:5678/webhook/6e8e31fe-9be3-49db-9489-e5f9a8ea9237/chat)\n\n> Observa√ß√£o: N√£o esque√ßa de deixar o Workflow como \"Active\", caso contr√°rio, ao tentar acessar o chat um erro ser√° mostrado.",
        "height": 300,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -740,
        -340
      ],
      "id": "a43b779d-06f5-40c5-88c5-ec10531c63bf",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## LLM - O C√©rebro do Agente  \n\nPara este exemplo, escolhemos o **Google Gemini** como modelo de LLM para atuar como c√©rebro do agente, pois sua API pode ser testada gratuitamente. No entanto, √© poss√≠vel conectar outros modelos, como o **DeepSeek** ou o **GPT**.  \n\n### Configura√ß√£o da API  \n\nPara usar o **Google Gemini**, voc√™ precisar√° de uma **Chave de API** configurada.  \n\n- **Ainda n√£o tem uma chave?** Siga a documenta√ß√£o oficial: [Gerando uma chave de API](https://ai.google.dev/gemini-api/docs/api-key?hl=pt-br)  \n- **J√° tem uma chave?** Acesse-a diretamente neste link: [Google AI Studio](https://aistudio.google.com/app/apikey)  \n",
        "height": 460,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -520,
        420
      ],
      "id": "60667ec5-eff1-4d76-a1d2-a7f6982ffbd1",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Mem√≥ria  \n\nO agente utiliza uma **mem√≥ria din√¢mica**, armazenada temporariamente dentro do pr√≥prio **N8N**. Isso significa que, ap√≥s a execu√ß√£o, os dados n√£o s√£o mantidos.  \n\nEssa mem√≥ria permite que o agente se lembre das intera√ß√µes recentes da conversa. Voc√™ pode pedir um **resumo** do di√°logo e continuar conversando sobre o conte√∫do, pois ele armazenar√° as **10 √∫ltimas mensagens**.  \n\n> üí° Se precisar de um hist√≥rico maior, basta editar o n√≥ e ajustar o valor na op√ß√£o **\"Context Window Length\"**. ",
        "height": 380,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -140,
        420
      ],
      "id": "060924ad-c6d1-4e5e-b0f4-3fbfb580a61a",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "Essa ferramenta obt√©m **transcri√ß√µes de v√≠deos do YouTube** atrav√©s de uma **API escrita em Python**.  \n\n### Como funciona?  \n- Ao receber um **ID** do v√≠deo ou uma **URL**, a API retorna a transcri√ß√£o do conte√∫do.  \n- Essa funcionalidade √© essencial, pois os modelos de LLM **n√£o t√™m acesso direto** √†s transcri√ß√µes do YouTube.  \n- Com essa ferramenta, conseguimos fornecer ao LLM o **texto falado no v√≠deo**, permitindo que ele **resuma o conte√∫do** de forma eficiente.  ",
        "height": 320,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        240,
        420
      ],
      "id": "60f5cde2-c3b9-4e66-8aba-e03b071d3acf",
      "name": "Sticky Note3"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "YouTube video transcription retriever": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "0c350f88-1431-4bee-98da-5a33bd88b323",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "48ae37bcd0aa2fe0a125413c8c0256a32602880b2b68ed4c8b5dad3cd531a03a"
  },
  "id": "7b7ZQ9vfZ5rCXYKJ",
  "tags": []
}